extends base

block content   

  .page__content.family
    div
      section
        h1.users__title USERS
        include _yearSelector
     
      table.users
        tr
          th Last Name
          th First Name
          th Email
          th Cell Phone
          th Roles

        -var roles= []
        -var registrationIndex=0
        for user in users  
          for registration, index in user.registration 
            if (registration.year === selectedYear)
              -roles= registration.roles
              -registrationIndex= index
        
          
          tr(id=user._id data-registration=user.registration data-registration-index=registrationIndex)
            td= user.lastName
            td= user.firstName 
            td= user.email
            td= user.cellPhone
            td= roles
            

            td.button
              .edit &#9998
            td.button
              .delete &#10006
 
        tr#new
          td.button
            .new &#10010

    section.user-profile.form-modal__window
        form.form.form__outline-box.user-profile__form.form-modal__content
          .form__row
            .form__header-text User
            .form__header-background.family-form__header-image
          .form__outline-box--bottom.form__row
            .form__item
              label.form__label(for='lastName') Last Name
              input#lastName.form__input(type='text' name='lastName' size='15' value='Macri')
            .form__item
              label.form__label(for='firstName') First Name
              input#firstName.form__input(type='text' name='firstName' size='15' value='Caroline')
          .form__outline-box--bottom
            .form__item
              label.form__label(for='email') Email
              input#email.form__input(type='text' name='email' size='20' value='me@me.me')
            .form__item
              label.form__label(for='cellPhone') CellPhone
              input#cellPhone.form__input(type='text' name='cellPhone' size='15' value='555-555-55555')
              
          .form__outline-box--bottom
            .form__row.form__item.form__label Roles
            .form__row.form__item
              .form__radio-group
                .form__radio-item
                  input#admin(type='checkbox' name='roles' value='admin')
                  label.form__label-radio(for='roles') admin
                .form__radio-item
                  input#parent(type='checkbox' name='roles' value='parent')
                  label.form__label-radio(for='roles') parent
                .form__radio-item
                  input#teacher(type='checkbox' name='roles' value='teacher')
                  label.form__label-radio(for='roles') teacher
          
            .form__row
              input#update.form__button.form__item--center(type='submit')
              button#cancel.form__button.form__cancel X
    
    section.user-delete.page__content-row
      .delete-modal__window
        .delete-modal__content.user-delete__modal
          p.user-delete__warning &#9888
          p Are you sure you want to delete this user
          p usename
          button#deleteUser.button OK
          button#cancelDelete.button-cancel cancel